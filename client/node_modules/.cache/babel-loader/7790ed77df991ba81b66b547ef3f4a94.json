{"ast":null,"code":"import { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nvar _jsxFileName = \"/Users/work/Desktop/Vinerist/client/src/components/login-workflow/Login.jsx\",\n    _s = $RefreshSig$();\n\nimport { useState } from \"react\";\nimport { login } from \"../utilities/AxiosCalls\";\nimport { Redirect, useHistory } from \"react-router-dom\";\nexport default function Login() {\n  _s();\n\n  const history = useHistory();\n  const [userEmail, setUserEmail] = useState(\"\");\n  const [userPassword, setUserPassword] = useState(\"\");\n\n  const handleSubmit = event => {\n    event.preventDefault();\n\n    if (!userEmail) {\n      event.target.emailInput.parentElement.classList.add(\"error__input-blank\");\n    } else {\n      event.target.emailInput.parentElement.classList.remove(\"error__input-blank\");\n    }\n\n    if (!userPassword) {\n      event.target.passwordInput.parentElement.classList.add(\"error__input-blank\");\n    } else {\n      event.target.passwordInput.parentElement.classList.remove(\"error__input-blank\");\n    }\n\n    if (userEmail && userPassword) {\n      login(userEmail, userPassword).then(res => {\n        if (handleStatus(res.status, event)) {\n          sessionStorage.setItem(\"userLoggedIn\", res.data.user.user); //Set session storage of logged in user\n\n          history.push(\"/users\"); // bump to user screen\n        }\n      });\n    }\n  };\n\n  const handleStatus = (status, event) => {\n    if (status === 404) {\n      event.target.classList.add(\"error__invalid-user-login\");\n      return false;\n    }\n\n    if (status === 200) {\n      event.target.classList.remove(\"error__invalid-user-login\");\n      return true;\n    }\n  };\n\n  return sessionStorage.getItem(\"userLoggedIn\") ? /*#__PURE__*/_jsxDEV(Redirect, {\n    to: \"/users\"\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 53,\n    columnNumber: 5\n  }, this) : /*#__PURE__*/_jsxDEV(\"form\", {\n    onSubmit: handleSubmit,\n    className: \"welcome-screen__default-form\",\n    children: [/*#__PURE__*/_jsxDEV(\"label\", {\n      className: \"welcome-screen__default-label\",\n      children: [\"Enter your email:\", /*#__PURE__*/_jsxDEV(\"input\", {\n        name: \"emailInput\",\n        spellCheck: \"false\",\n        onChange: ({\n          target\n        }) => setUserEmail(target.value),\n        className: \"welcome-screen__default-input\",\n        type: \"text\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 58,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 56,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n      className: \"welcome-screen__default-label\",\n      children: [\"Enter your password:\", /*#__PURE__*/_jsxDEV(\"input\", {\n        name: \"passwordInput\",\n        onChange: ({\n          target\n        }) => setUserPassword(target.value),\n        className: \"welcome-screen__default-input\",\n        type: \"password\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 68,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 66,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n      className: \"welcome-screen__default-submit\",\n      children: \"Submit\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 75,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 55,\n    columnNumber: 5\n  }, this);\n}\n\n_s(Login, \"rUk1YTSVqyz/mIGCIfAqlXHcVAU=\", false, function () {\n  return [useHistory];\n});\n\n_c = Login;\n\nvar _c;\n\n$RefreshReg$(_c, \"Login\");","map":{"version":3,"sources":["/Users/work/Desktop/Vinerist/client/src/components/login-workflow/Login.jsx"],"names":["useState","login","Redirect","useHistory","Login","history","userEmail","setUserEmail","userPassword","setUserPassword","handleSubmit","event","preventDefault","target","emailInput","parentElement","classList","add","remove","passwordInput","then","res","handleStatus","status","sessionStorage","setItem","data","user","push","getItem","value"],"mappings":";;;;;AAAA,SAASA,QAAT,QAAyB,OAAzB;AACA,SAASC,KAAT,QAAsB,yBAAtB;AACA,SAASC,QAAT,EAAmBC,UAAnB,QAAqC,kBAArC;AAEA,eAAe,SAASC,KAAT,GAAiB;AAAA;;AAC9B,QAAMC,OAAO,GAAGF,UAAU,EAA1B;AACA,QAAM,CAACG,SAAD,EAAYC,YAAZ,IAA4BP,QAAQ,CAAC,EAAD,CAA1C;AACA,QAAM,CAACQ,YAAD,EAAeC,eAAf,IAAkCT,QAAQ,CAAC,EAAD,CAAhD;;AAEA,QAAMU,YAAY,GAAIC,KAAD,IAAW;AAC9BA,IAAAA,KAAK,CAACC,cAAN;;AAEA,QAAI,CAACN,SAAL,EAAgB;AACdK,MAAAA,KAAK,CAACE,MAAN,CAAaC,UAAb,CAAwBC,aAAxB,CAAsCC,SAAtC,CAAgDC,GAAhD,CAAoD,oBAApD;AACD,KAFD,MAEO;AACLN,MAAAA,KAAK,CAACE,MAAN,CAAaC,UAAb,CAAwBC,aAAxB,CAAsCC,SAAtC,CAAgDE,MAAhD,CACE,oBADF;AAGD;;AAED,QAAI,CAACV,YAAL,EAAmB;AACjBG,MAAAA,KAAK,CAACE,MAAN,CAAaM,aAAb,CAA2BJ,aAA3B,CAAyCC,SAAzC,CAAmDC,GAAnD,CACE,oBADF;AAGD,KAJD,MAIO;AACLN,MAAAA,KAAK,CAACE,MAAN,CAAaM,aAAb,CAA2BJ,aAA3B,CAAyCC,SAAzC,CAAmDE,MAAnD,CACE,oBADF;AAGD;;AAED,QAAIZ,SAAS,IAAIE,YAAjB,EAA+B;AAC7BP,MAAAA,KAAK,CAACK,SAAD,EAAYE,YAAZ,CAAL,CAA+BY,IAA/B,CAAqCC,GAAD,IAAS;AAC3C,YAAIC,YAAY,CAACD,GAAG,CAACE,MAAL,EAAaZ,KAAb,CAAhB,EAAqC;AACnCa,UAAAA,cAAc,CAACC,OAAf,CAAuB,cAAvB,EAAuCJ,GAAG,CAACK,IAAJ,CAASC,IAAT,CAAcA,IAArD,EADmC,CACyB;;AAC5DtB,UAAAA,OAAO,CAACuB,IAAR,CAAa,QAAb,EAFmC,CAEX;AACzB;AACF,OALD;AAMD;AACF,GA7BD;;AA+BA,QAAMN,YAAY,GAAG,CAACC,MAAD,EAASZ,KAAT,KAAmB;AACtC,QAAIY,MAAM,KAAK,GAAf,EAAoB;AAClBZ,MAAAA,KAAK,CAACE,MAAN,CAAaG,SAAb,CAAuBC,GAAvB,CAA2B,2BAA3B;AACA,aAAO,KAAP;AACD;;AACD,QAAIM,MAAM,KAAK,GAAf,EAAoB;AAClBZ,MAAAA,KAAK,CAACE,MAAN,CAAaG,SAAb,CAAuBE,MAAvB,CAA8B,2BAA9B;AACA,aAAO,IAAP;AACD;AACF,GATD;;AAWA,SAAOM,cAAc,CAACK,OAAf,CAAuB,cAAvB,iBACL,QAAC,QAAD;AAAU,IAAA,EAAE,EAAC;AAAb;AAAA;AAAA;AAAA;AAAA,UADK,gBAGL;AAAM,IAAA,QAAQ,EAAEnB,YAAhB;AAA8B,IAAA,SAAS,EAAC,8BAAxC;AAAA,4BACE;AAAO,MAAA,SAAS,EAAC,+BAAjB;AAAA,mDAEE;AACE,QAAA,IAAI,EAAC,YADP;AAEE,QAAA,UAAU,EAAC,OAFb;AAGE,QAAA,QAAQ,EAAE,CAAC;AAAEG,UAAAA;AAAF,SAAD,KAAgBN,YAAY,CAACM,MAAM,CAACiB,KAAR,CAHxC;AAIE,QAAA,SAAS,EAAC,+BAJZ;AAKE,QAAA,IAAI,EAAC;AALP;AAAA;AAAA;AAAA;AAAA,cAFF;AAAA;AAAA;AAAA;AAAA;AAAA,YADF,eAWE;AAAO,MAAA,SAAS,EAAC,+BAAjB;AAAA,sDAEE;AACE,QAAA,IAAI,EAAC,eADP;AAEE,QAAA,QAAQ,EAAE,CAAC;AAAEjB,UAAAA;AAAF,SAAD,KAAgBJ,eAAe,CAACI,MAAM,CAACiB,KAAR,CAF3C;AAGE,QAAA,SAAS,EAAC,+BAHZ;AAIE,QAAA,IAAI,EAAC;AAJP;AAAA;AAAA;AAAA;AAAA,cAFF;AAAA;AAAA;AAAA;AAAA;AAAA,YAXF,eAoBE;AAAQ,MAAA,SAAS,EAAC,gCAAlB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,YApBF;AAAA;AAAA;AAAA;AAAA;AAAA,UAHF;AA0BD;;GAzEuB1B,K;UACND,U;;;KADMC,K","sourcesContent":["import { useState } from \"react\";\nimport { login } from \"../utilities/AxiosCalls\";\nimport { Redirect, useHistory } from \"react-router-dom\";\n\nexport default function Login() {\n  const history = useHistory();\n  const [userEmail, setUserEmail] = useState(\"\");\n  const [userPassword, setUserPassword] = useState(\"\");\n\n  const handleSubmit = (event) => {\n    event.preventDefault();\n\n    if (!userEmail) {\n      event.target.emailInput.parentElement.classList.add(\"error__input-blank\");\n    } else {\n      event.target.emailInput.parentElement.classList.remove(\n        \"error__input-blank\"\n      );\n    }\n\n    if (!userPassword) {\n      event.target.passwordInput.parentElement.classList.add(\n        \"error__input-blank\"\n      );\n    } else {\n      event.target.passwordInput.parentElement.classList.remove(\n        \"error__input-blank\"\n      );\n    }\n\n    if (userEmail && userPassword) {\n      login(userEmail, userPassword).then((res) => {\n        if (handleStatus(res.status, event)) {\n          sessionStorage.setItem(\"userLoggedIn\", res.data.user.user); //Set session storage of logged in user\n          history.push(\"/users\"); // bump to user screen\n        }\n      });\n    }\n  };\n\n  const handleStatus = (status, event) => {\n    if (status === 404) {\n      event.target.classList.add(\"error__invalid-user-login\");\n      return false;\n    }\n    if (status === 200) {\n      event.target.classList.remove(\"error__invalid-user-login\");\n      return true;\n    }\n  };\n\n  return sessionStorage.getItem(\"userLoggedIn\") ? (\n    <Redirect to=\"/users\" />\n  ) : (\n    <form onSubmit={handleSubmit} className=\"welcome-screen__default-form\">\n      <label className=\"welcome-screen__default-label\">\n        Enter your email:\n        <input\n          name=\"emailInput\"\n          spellCheck=\"false\"\n          onChange={({ target }) => setUserEmail(target.value)}\n          className=\"welcome-screen__default-input\"\n          type=\"text\"\n        />\n      </label>\n      <label className=\"welcome-screen__default-label\">\n        Enter your password:\n        <input\n          name=\"passwordInput\"\n          onChange={({ target }) => setUserPassword(target.value)}\n          className=\"welcome-screen__default-input\"\n          type=\"password\"\n        />\n      </label>\n      <button className=\"welcome-screen__default-submit\">Submit</button>\n    </form>\n  );\n}\n"]},"metadata":{},"sourceType":"module"}